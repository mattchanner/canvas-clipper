<!doctype html>
<html>
<head>
    <link href="ui.css" rel="stylesheet">
    <script src="jquery-1.9.1.js"></script>
    <script src="ui.js"></script>
    
</head>
<body>

    <div class="toolbar">
        <button class="clockwise">Clockwise</button>
        <button class="anticlockwise">Anti-clockwise</button>        
    </div>

    <div>
        <div class="image-container">
            <img src="pugs.jpg">
        </div>

        <div class="preview-container">
            <canvas class="preview">
        </div>
    </div>
    <script>

        var cropper,
            scale = 1 ,
            previewElem = document.querySelector(".preview");

        // Function called when the clip rectangle changes
        var showPreview = function () {

            if (cropper == null) return;

            cropper.paintPreview(previewElem, scale);
        };

        cropper = new PanAndZoomCanvas({

            // The image to extend
            selector: ".image-container img"

            // The canvas background colour
            , background: 'rgba(0, 91, 255, 0.1)'

            // The mask colour to apply when clipping
            , maskColour: 'rgba(7, 7, 78, 0.5)'

            // The clip rectangle line width
            , lineWidth: 4

            // The diameter of each resize corner
            , anchorSize: 12

            // The colour of the clip rectangle when clipping
            , clipStroke: '#6D8AFF'

            // The colour of the clip rectangle when dragging
            , dragStroke: '#FFBC59'

            // The colour of the resizers when resizing
            , resizeStroke: '#FFBC59'

            , rotation: 0

            , resizable: true

            , draggable: true

            , drawable: false

            // The callback to invoke when a change happens
            , onChange: showPreview
        });

        showPreview();

        $(".clockwise").click(cropper.clockwise);
        $(".anticlockwise").click(cropper.anticlockwise);
        
    </script>
</body>
</html>
